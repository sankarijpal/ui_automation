(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20],{86544:function(e,t,r){"use strict";var n=r(52322),s=r(95096),o=r(29530),a=r(2784),i=r(14292);t.Z=function(e){var t=e.segments,r=(0,a.useContext)(i.Z);return(0,n.jsx)("nav",{className:"flex pb-5","aria-label":"Breadcrumb",children:(0,n.jsxs)("ol",{className:"flex items-center space-x-4",children:[(0,n.jsx)("li",{children:(0,n.jsx)("div",{children:(0,n.jsx)(r,{href:"/",children:(0,n.jsxs)("a",{className:"text-gray-400 hover:text-gray-500",children:[(0,n.jsx)(o.FontAwesomeIcon,{icon:s.faHome}),(0,n.jsx)("span",{className:"sr-only",children:"Home"})]})})})}),t.map((function(e,s){var o=e.url,a=e.name;return(0,n.jsx)("li",{children:(0,n.jsxs)("div",{className:"flex items-center",children:["/",s===t.length-1?(0,n.jsx)("span",{className:"ml-4 text-sm font-medium text-gray-500",children:a}):(0,n.jsx)(r,{href:o,children:(0,n.jsx)("a",{className:"ml-4 text-sm font-medium text-gray-500 hover:text-gray-700",children:a})})]})},s)}))]})})}},84012:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return D},default:function(){return I}});var n=r(52322),s=r(77243),o=r(92847),a=r.n(o),i=r(76588),c=r(36942),u=r(5632),l=r(2784),f=r(11515),h=r(41762),p=r(72541),d=r(14292),x=function(){var e=(0,l.useContext)(d.Z);return(0,n.jsxs)(p.Alert,{size:"L",type:"info",children:["Report not found. It may have been deleted."," ",(0,n.jsx)(e,{href:"/",children:(0,n.jsx)("a",{children:"Back to homepage"})}),"."]})},m=r(28879),j=r.n(m),v=r(68707),w=function(e){var t=e.text,r=(0,l.useState)(!1),s=r[0],o=r[1],a=(0,n.jsx)(v.Z,{getRedirectPath:function(){return window.location.pathname}});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),o(!0)},children:t}),(0,n.jsxs)(p.Modal,{title:t,show:s,onClose:function(){return o(!1)},ctaButton:a,children:["After logging in with GitHub, you will be able to create a"," ",(0,n.jsx)("strong",{children:"report collection."}),(0,n.jsxs)("p",{children:["Reports published in a collection are ",(0,n.jsx)("strong",{children:"not auto-deleted."})]})]})]})},g=function(e){var t=e.reportCreationTimestamp,r=e.showAuthenticateLink,s=j()(t).add(24,"hour"),o=s.isBefore(Date.now())?"any time now":s.fromNow();return(0,n.jsxs)(p.Alert,{size:"L",type:"warning",children:["This report will self-destruct ",o,"."," ",r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(w,{text:"Keep your future reports forever"}),"."]})]})},y=function(){var e=(0,l.useContext)(d.Z);return(0,n.jsxs)(p.Alert,{size:"L",type:"info",children:[(0,n.jsx)("p",{children:"This report was published with a personal token."}),(0,n.jsx)(e,{href:"/profile",children:(0,n.jsx)("a",{children:"Have you tried using collections"})})," ","to easily group and share your reports?"]})},b=function(){var e=(0,l.useContext)(d.Z);return(0,n.jsxs)(p.Alert,{size:"L",type:"info",children:[(0,n.jsx)(e,{href:"/",children:(0,n.jsx)("a",{children:"Create a collection"})})," ","to keep your reports forever and easily share them."]})},O=r(86544),Z=r(97151),k=r(48606),C=r(69120),N=r(27965),_=r(25125),P=r(57619),E=r(34504);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function A(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function L(e,t){return{envelopes:(0,E.Z)(e),timestamp:t?new Date(t).getTime():null}}var D=!0,I=function(){var e=(0,k.Z)(),t=(0,c.Z)(e,1)[0],r=(0,u.useRouter)().query.reportId,s=(0,f.ZP)("reports/".concat(r,"/metadata"),function(){var e=(0,i.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,P.J)(t),e.next=3,fetch(r);case 3:if(404!==(n=e.sent).status){e.next=6;break}throw new Error("Report does not exist");case 6:if(200===n.status){e.next=13;break}return e.t0=C.K,e.next=10,n.text();case 10:throw e.t1=e.sent,e.t2=n.status,new e.t0(e.t1,e.t2);case 13:return e.next=15,n.json();case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o=s.data,l=s.error,p=(0,f.ZP)("reports/".concat(r),function(){var e=(0,i.Z)(a().mark((function e(t){var r,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(0,P.J)(t),e.next=3,fetch(r);case 3:if(200===(n=e.sent).status){e.next=11;break}return e.t0=C.K,e.next=8,n.text();case 8:throw e.t1=e.sent,e.t2=n.status,new e.t0(e.t1,e.t2);case 11:return e.t3=L,e.next=14,n.text();case 14:return e.t4=e.sent,e.t5=n.headers.get("last-modified"),e.abrupt("return",(0,e.t3)(e.t4,e.t5));case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(e,t){var r;if(e){var n=null===(r=e.envelopes.find((function(e){return e.meta})))||void 0===r?void 0:r.meta;(0,N.K)("fetch messages success",{url:t,meta:n})}},onError:function(e,t){(0,N.K)("fetch messages error",{url:t,error:e.message})},onLoadingSlow:function(e){(0,N.K)("fetch messages slow",{url:e})}}),d=p.data,m=p.error;if((!d||!o)&&!m&&!l)return(0,n.jsx)("div",{children:"Loading..."});if(l)return(0,n.jsx)(h.Z,{message:l.message||"Unknown error"});if(m&&404===m.httpStatus||!d.timestamp)return(0,n.jsx)(x,{});if(m&&404!==m.httpStatus)return(0,n.jsx)(h.Z,{message:m.message||"Unknown error"});var j,v=(j=o).reportCollectionId?[{url:"/report-collections/".concat(j.reportCollectionId),name:j.reportCollectionName},{url:"/reports/".concat(j.id),name:j.id}]:[],w=t&&v.length>0;return(0,n.jsxs)(n.Fragment,{children:[w&&(0,n.jsx)(O.Z,{segments:v}),o&&t&&!o.authenticated&&(0,n.jsx)(b,{}),o&&t&&o.authenticated&&!o.reportCollectionId&&(0,n.jsx)(y,{}),o&&!o.authenticated&&(0,n.jsx)(g,{reportCreationTimestamp:d.timestamp,showAuthenticateLink:!t}),(0,n.jsx)(Z.Z,A(A({report:o},(0,_.Z)(d.envelopes)),{},{preExpand:!0}))]})}},62083:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reports/[reportId]",function(){return r(84012)}])}},function(e){e.O(0,[541,915,310,459,774,888,179],(function(){return t=62083,e(e.s=t);var t}));var t=e.O();_N_E=t}]);